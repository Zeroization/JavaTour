# 数据类型

首先，Java中一共有 8 种基本类型：4种整型，2种浮点型，1种字符型，还有1种用于表示真值的 boolean 类型。接下来，让我们来看看它们吧：

## 整型

整型用于表示没有小数部分的数，可以是负数：

| 类型  | 存储需求 | 取值范围               |
| ----- | -------- | ---------------------- |
| int   | 4字节    | $-2^{31}$ ~ $2^{31}-1$ |
| short | 2字节    | $-2^{15}$ ~ $2^{15}-1$ |
| long  | 8字节    | $-2^{63}$ ~ $2^{63}-1$ |
| byte  | 1字节    | $-2^{7}$ ~ $2^{7}-1$   |

此外，一些整数常数的特定前/后缀也有不同的意思：

| 前/后缀                                          | 意思         |
| ------------------------------------------------ | ------------ |
| 4_000_000_000**L**<br />4000000000**l **(不推荐) | 长整型常数   |
| **0x**CAFE<br />**0X**CAFE                       | 十六进制常数 |
| **0**10                                          | 八进制常数   |
| **0b**1001<br />**0B**1010                       | 二进制常数   |

Ps : 上面的长整型常数出现了下划线`_`，让人易读，不会对程序造成影响。

---

## 浮点类型

浮点型用于表示有小数部分的数值：
| 类型   | 存储需求 | 有效数字 |
| ------ | -------- | -------- |
| float  | 4字节    | 6 ~ 7位  |
| double | 8字节    | 15位     |

大部分情况下，我们都用的是double哦。

当一些浮点数超出这些有效数字后，便会溢出和出错(以double为例的对应常量)：

- 正无穷大 `Double.POSITIVE_INFINITY`
- 负无穷大 `Double.NEGATIVE_INFINITY`
- NaN(不是一个数) `Double.NaN`

PS：当我们需要检测一个浮点数是不是正负无穷大的时候，让其与上述二值比较即可。但是，**检测NaN却不行**，得用 `(返回boolean) Double.isNaN(double x)` 来检查。

---

## char类型与转义序列

char类型用来表示单个字符或部分Unicode字符。当它表示单个字符的时候，其常量值要用单引号括起来：比如 'a' ，与 "a" 不同，后者是包含一个字符a的字符串。当它表示部分Unicode字符（通过十六进制值）的时候，得使用转义序列 `\u` ，范围为 \u0000 ~ \uFFFF：比如\u2122 表示商标符号(™)。

需要注意的是：**Unicode转义序列会在解析代码之前处理**。比如说 \u0022 表示双引号(")，则 "\u0022+\u0022" 并不是一个由引号包围加号所构成的字符串，而是""+""，也就是一个空字符串。

接下来康康转义序列：

| 转义序列 | 名称                               | Unicode值 |
| -------- | ---------------------------------- | --------- |
| \b       | 退格                               | \u0008    |
| \t       | 制表                               | \u0009    |
| \n       | 换行                               | \u000a    |
| \r       | 回车                               | \u000d    |
| \f       | 换页                               | \u000c    |
| \"       | 双引号                             | \u0022    |
| \'       | 单引号                             | \u0027    |
| \\       | 反斜线                             | \u005c    |
| \s       | 空格，文本块中用来保留末尾空白符   | \u0020    |
| \newline | 只在文本块中使用：连接该行和下一行 | -         |

---

## boolean类型

boolean 类型有两个值：true 和 false，用来判定逻辑条件。**不像C++那样，整型值和布尔值之间不能进行相互转换。也就是说，“0为false，非0为true” 在Java里是错的**。

---

# 类型转换

除了 boolean 类型，这7种数值类型之间还可以进行合法转换：

![1661927174793.png](https://p.qlogo.cn/hy_personal/3e28f14aa0516842aa9a95ae3fde4b08b82f259b941b27ae7b69198ad8eea20d/0.png)

实线箭头表示无信息丢失的转换；虚线箭头则表示可能有精度损失的转换。因此，为了避免精度的损失，在进行一些二元运算（加减乘除等）的时候，得将两元素的数值类型统一后再算。否则：

- 有一个是double，都转换为double；
- 否则，有一个是float，都转换为float；
- 否则，有一个是long，都转换为long；
- 否则，都转换为int。

---

# 强制类型转换

有时候我们不得不进行强制类型转换，语法为：

```java
(新数值类型)变量名
```

比如说：

```java
double x = 1.33;
int a = (int)x;	//a = 1, 强制类型转换截断了小数部分
```

并且我们得注意新数值类型的表示范围，比如说(byte)300的值实际上是44。

